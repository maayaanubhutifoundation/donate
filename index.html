<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Support Maaya Anubhuti Foundation</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body { font-family: Arial; background: #fff9e6; padding: 20px; max-width: 800px; margin: auto; text-align: center; }
    .form-group { text-align: left; margin-bottom: 15px; width: 100%; }
    label { font-weight: bold; }
    input, textarea { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    .mobile-prefix { position: relative; }
    .mobile-prefix input { padding-left: 45px; height: 40px; }
    .mobile-prefix::before { content: '+91'; position: absolute; top: 50%; left: 10px; transform: translateY(-50%); color: #555; font-weight: bold; pointer-events: none; }
    button { background-color: #ff9900; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    button:hover { background-color: #e68a00; }
    .hidden { display: none !important; }
    .certificates .cert-img { max-height: 180px; object-fit: contain; width: 100%; margin-bottom: 5px; cursor: pointer; }
    .certificates .col-6 { padding: 5px; }
    .modal-img { max-height: 90vh; display: block; margin: auto; }
    .bank-details { background: #f9f9f9; padding: 15px; border-radius: 6px; margin-top: 20px; }
    .qr-code { max-width: 200px; height: auto; }
  </style>
</head>
<body>
<h1>Support Maaya Anubhuti Foundation ðŸ’›</h1>
<h2>For the dignity and care of India's elderly</h2>
<form id="donationForm">
  <div class="form-group"><label for="name">Full Name*</label><input type="text" id="name" required></div>
  <div class="form-group"><label for="amount">Amount Donated* (Min â‚¹50)</label><input type="number" id="amount" min="50" required></div>
  <div class="form-group mobile-prefix"><label for="mobile">Mobile Number*</label><input type="tel" id="mobile" pattern="[0-9]{10}" placeholder="xxxxxxxxxx" required></div>
  <div class="form-group"><div id="recaptcha-container"></div><button type="button" id="sendOTP">Send OTP</button></div>
  <div class="form-group hidden" id="otpSection"><label for="otp">Enter OTP</label><input type="text" id="otp"><button type="button" id="verifyOTP">Submit OTP</button><div id="otpFeedback" class="mt-2 fw-bold"></div></div>
  <div class="form-group"><label for="email">Email (optional)</label><input type="email" id="email"></div>
  <div class="form-group"><label for="message">Message (optional)</label><textarea id="message"></textarea></div>
</form>
<div class="bank-details hidden" id="bankDetails">
  <h3>ðŸ“± UPI & Bank Details</h3>
  <p><strong>UPI ID:</strong> 9599914274@idbi</p>
  <img class="qr-code" src="https://assets.zyrosite.com/.../qrcode.png" alt="UPI QR">
  <p><strong>Bank:</strong> IDBI Bank</p>
  <p>A/C: 0873102000012698</p>
  <p>IFSC: IBKL0000873</p>
  <p>Name: Maaya Anubhuti Foundation</p>
</div>
<div class="certificates">
  <h3>ðŸ“„ Certificates</h3>
  <div class="row">
    <div class="col-6 col-md-3"><img class="cert-img" src="https://assets.zyrosite.com/.../blurred-incorporation.jpeg" data-bs-toggle="modal" data-bs-target="#certificateModal" data-img="https://assets.zyrosite.com/.../incorporation.jpeg"><small>Incorporation</small></div>
    <div class="col-6 col-md-3"><img class="cert-img" src="https://assets.zyrosite.com/.../blurred-pan.jpeg" data-bs-toggle="modal" data-bs-target="#certificateModal" data-img="https://assets.zyrosite.com/.../pan.jpeg"><small>PAN</small></div>
    <div class="col-6 col-md-3"><img class="cert-img" src="https://assets.zyrosite.com/.../blurred-section8.jpeg" data-bs-toggle="modal" data-bs-target="#certificateModal" data-img="https://assets.zyrosite.com/.../section8.jpeg"><small>Section 8</small></div>
    <div class="col-6 col-md-3"><img class="cert-img" src="https://assets.zyrosite.com/.../blurred-darpan.jpeg" data-bs-toggle="modal" data-bs-target="#certificateModal" data-img="https://assets.zyrosite.com/.../darpan.jpeg"><small>Darpan</small></div>
  </div>
</div>
<div class="modal fade" id="certificateModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Certificate</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><img id="modalImage" class="modal-img" src=""></div></div></div></div>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyCbaRQTOjPmLX4ulB5gt1LbkhSpLFDRnBo",
  authDomain: "maaya-anubhuti-donation.firebaseapp.com",
  projectId: "maaya-anubhuti-donation",
  storageBucket: "maaya-anubhuti-donation.appspot.com",
  messagingSenderId: "1045010997595",
  appId: "1:1045010997595:web:6c4cfc50867ed26719fa7e"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
let recaptchaVerifier;
let confirmationResult;
window.onload = () => {
  recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
    size: 'normal',
    callback: (response) => console.log('reCAPTCHA solved'),
    'expired-callback': () => alert('reCAPTCHA expired, try again')
  });
  recaptchaVerifier.render();
};
const sendOTP = document.getElementById("sendOTP");
const verifyOTP = document.getElementById("verifyOTP");
const mobileInput = document.getElementById("mobile");
const otpSection = document.getElementById("otpSection");
const otpFeedback = document.getElementById("otpFeedback");
const bankDetails = document.getElementById("bankDetails");
sendOTP.addEventListener('click', () => {
  const number = `+91${mobileInput.value}`;
  if (!/^(\+91)?[6-9]\d{9}$/.test(number)) return alert("Enter valid mobile");
  auth.signInWithPhoneNumber(number, recaptchaVerifier)
    .then(result => {
      confirmationResult = result;
      otpSection.classList.remove('hidden');
      sendOTP.classList.add('hidden');
      alert("OTP sent");
    })
    .catch(error => {
      console.error("OTP Send Error:", error);
      alert("Error sending OTP: " + error.message);
    });
});
verifyOTP.addEventListener('click', () => {
  const code = document.getElementById("otp").value;
  const amount = parseInt(document.getElementById("amount").value);
  if (amount < 50) return alert("Minimum donation â‚¹50");
  confirmationResult.confirm(code)
    .then(() => {
      otpFeedback.textContent = "Authentication Successful";
      otpFeedback.style.color = "green";
      bankDetails.classList.remove("hidden");
    })
    .catch(error => {
      otpFeedback.textContent = "Wrong OTP";
      otpFeedback.style.color = "red";
      console.error("OTP Verification Error:", error);
    });
});
document.getElementById('certificateModal').addEventListener('show.bs.modal', function (event) {
  const trigger = event.relatedTarget;
  document.getElementById('modalImage').src = trigger.getAttribute('data-img');
  window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>
</body>
</html>